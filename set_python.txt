def setOperation(seta, setb):
    # Write your code here
    if len(seta)<10000 and len(setb)<10000:
        a=set(seta)
        b=set(setb)
        print(a.union(b))
        print(a.intersection(b))
        print(a-b)
        print(b-a)
        print(a^b)
        return(frozenset(seta))
        
if __name__ == '__main__':
    seta_count = int(input().strip())

    seta = []

    for _ in range(seta_count):
        seta_item = input()
        seta.append(seta_item)

    setb_count = int(input().strip())

    setb = []

    for _ in range(setb_count):
        setb_item = input()
        setb.append(setb_item)


	un, intersec, diffa, diffb, sydiff, frset = setOperation(seta, setb)
    print(sorted(un))
    print(sorted(intersec))
    print(sorted(diffa))
    print(sorted(diffb))
    print(sorted(sydiff))
   
    print("Returned value is {1} frozenset".format(frset, "a" if type(frset) == frozenset else "not a"))